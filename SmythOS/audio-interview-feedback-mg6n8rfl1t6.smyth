{"version":"1.0.0","id":"cmfr1sf28nenwo3wtknm6a6y9","name":"Audio Interview Feedback","teamId":"cmfo0x89li8a32py5s77d9m35","parentTeamId":"cmfo0x89li8a32py5s77d9m35","components":[{"id":"M1INTERVIEW_REPORT","name":"GenAILLM","outputs":[{"name":"Reply","color":"#3C89F9","index":0,"default":true}],"inputs":[{"name":"averages","type":"Object","friendlyInputType":"","coreInputType":"Object","color":"#F35063","optional":false,"index":0,"default":false},{"name":"questions","type":"Array","friendlyInputType":"","coreInputType":"Array","color":"#F35063","optional":false,"index":1,"default":false}],"data":{"model":"smythos/gpt-4o","prompt":"You are an interview feedback assistant.\n\nQuestions and correctness scores: {{questions}}\nAverage category scores: {{averages}}\n\nWrite 4-5 short, clear sentences that directly summarize what the candidate's strengths and weaknesses and need to improve. \nBe fair and specific, do not give indirect or vague feedback. \nAt the end, add one sentence of encouragement or motivation for the candidate.\n\n","temperature":"0.7","maxTokens":"200","topP":"1","topK":"0","frequencyPenalty":"0","presencePenalty":"0","passthrough":false,"stopSequences":"","useSystemPrompt":false,"useContextWindow":false,"maxContextWindowLength":"4096","useWebSearch":false,"webSearchContextSize":"medium","webSearchCity":"","webSearchCountry":"","webSearchRegion":"","webSearchTimezone":"","useSearch":false,"searchMode":"auto","returnCitations":false,"maxSearchResults":"10","searchDataSources":["web","x"],"searchCountry":"","excludedWebsites":"","allowedWebsites":"","includedXHandles":"","excludedXHandles":"","postFavoriteCount":0,"postViewCount":0,"rssLinks":"","safeSearch":false,"fromDate":"","toDate":"","useReasoning":false,"maxThinkingTokens":"4096","reasoningEffort":"","verbosity":"medium"},"top":"0.454px","left":"1228px","width":"","height":"","displayName":"GenAI LLM","title":"Generate Report","aiTitle":"","description":"Creates final summary report"},{"id":"M1INTERVIEW_FORMAT","name":"Code","outputs":[{"name":"Output","color":"#3C89F9","index":0,"default":true}],"inputs":[{"name":"questions","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":0,"default":false},{"name":"averages","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":1,"default":false},{"name":"report","type":"String","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":2,"default":false}],"data":{"code_vars":"//Use these variables to access your input values.\nconst _questions={{questions}};\nconst _averages={{averages}};\nconst _report={{report}};\n\n//This variable determines the output of your component.\nlet _output=undefined;\n","code_body":"_output = {questions: _questions, averages: _averages, final_report: _report};"},"top":"0.454px","left":"1678px","width":"","height":"","displayName":"Code","title":"Format Output","aiTitle":"","description":"Formats final JSON response"},{"id":"M1INTERVIEW_OUTPUT","name":"APIOutput","outputs":[{"name":"Output","color":"#3C89F9","index":0,"default":true}],"inputs":[{"name":"result","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":0,"default":false}],"data":{"format":"full"},"top":"312.454px","left":"2128px","width":"","height":"","displayName":"APIOutput","title":"API Response","aiTitle":"","description":"Returns structured JSON output"},{"id":"CMFV55IZYWX9","name":"APIEndpoint","outputs":[{"name":"headers","color":"#3C89F9","index":0,"default":true},{"name":"body","color":"#3C89F9","index":1,"default":true},{"name":"query","color":"#3C89F9","index":2,"default":true},{"name":"","color":"#3C89F9","expression":"body.","index":3,"default":false},{"name":"triger","color":"#3C89F9","expression":"body.triger","index":4,"default":false}],"inputs":[{"name":"","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":0,"default":false},{"name":"triger","type":"Text","friendlyInputType":"Text","coreInputType":"Any","color":"#F35063","optional":false,"defaultVal":"start","index":1,"default":false}],"data":{"endpoint":"auto_analyze","description":"Automatically fetch, analyze, and clear interview data from Google Sheet","method":"GET","ai_exposed":true,"advancedModeEnabled":false,"endpointLabel":"auto_analyze","summary":""},"top":"0.454px","left":"-122px","width":"251.405px","height":"","displayName":"APIEndpoint","title":"Auto Analyze Data","aiTitle":"","description":"Automatically fetches and analyzes interview data"},{"id":"TPLM1INTERVIEW_SHEETS","name":"APICall","outputs":[{"name":"Response","color":"#3C89F9","index":0,"default":true},{"name":"Headers","color":"#3C89F9","index":1,"default":true},{"name":"Response.values","color":"#3C89F9","index":2,"default":false}],"inputs":[{"name":"trigger","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":0,"default":false}],"data":{"method":"GET","url":"https://sheets.googleapis.com/v4/spreadsheets/1K00od4UpmF_3rn87GbRBQqhuRZxZg8YRCtDfrsRacGQ/values/data!A:K","contentType":"none","oauthService":"Google","scope":"https://www.googleapis.com/auth/spreadsheets.readonly","authorizationURL":"https://accounts.google.com/o/oauth2/v2/auth","tokenURL":"https://oauth2.googleapis.com/token","clientID":"24957166462-95qrqbi8amv1i1f0ai3066f1e3pqhri3.apps.googleusercontent.com","clientSecret":"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","oauth_con_id":"OAUTH_MFRV9A1H0Y_TOKENS","headers":"","body":"","proxy":"","oauth2CallbackURL":"","requestTokenURL":"","accessTokenURL":"","userAuthorizationURL":"","consumerKey":"","consumerSecret":"","oauth1CallbackURL":"","authenticate":""},"top":"0.454px","left":"328px","width":"","height":"","displayName":"APICall","title":"Get Sheet Data","aiTitle":"","description":"Fetches data from Google Sheets"},{"id":"M1INTERVIEW_CLEAR","name":"APICall","outputs":[{"name":"Headers","color":"#3C89F9","index":0,"default":true},{"name":"Response","color":"#3C89F9","index":1,"default":true}],"inputs":[{"name":"trigger","type":"Any","friendlyInputType":"","coreInputType":"","color":"#F35063","optional":false,"index":0,"default":false}],"data":{"method":"POST","url":"https://sheets.googleapis.com/v4/spreadsheets/1K00od4UpmF_3rn87GbRBQqhuRZxZg8YRCtDfrsRacGQ/values/data!A:K:clear","contentType":"application/json","oauthService":"Google","scope":"https://www.googleapis.com/auth/spreadsheets","authorizationURL":"https://accounts.google.com/o/oauth2/v2/auth","tokenURL":"https://oauth2.googleapis.com/token","clientID":"24957166462-95qrqbi8amv1i1f0ai3066f1e3pqhri3.apps.googleusercontent.com","clientSecret":"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","oauth_con_id":"OAUTH_MFRV9A1H0Y_TOKENS","headers":"","body":"","proxy":"","oauth2CallbackURL":"","requestTokenURL":"","accessTokenURL":"","userAuthorizationURL":"","consumerKey":"","consumerSecret":"","oauth1CallbackURL":"","authenticate":""},"top":"0.454px","left":"2128px","width":"","height":"","displayName":"APICall","title":"Clear Sheet Data","aiTitle":"","description":"Clears all data from the Google Sheet"},{"id":"CMFV6PBDVBC6","name":"Code","outputs":[{"name":"Output","color":"#3C89F9","index":0,"default":true},{"name":"_error","color":"#3C89F9","index":1,"default":false},{"name":"Output.questions","color":"#3C89F9","index":2,"default":false},{"name":"Output.averages","color":"#3C89F9","index":3,"default":false}],"inputs":[{"name":"sheetData","type":"Array","friendlyInputType":"","coreInputType":"Array","color":"#F35063","optional":false,"index":0,"default":false}],"data":{"code_vars":"//Use these variables to access your input values.\nconst _sheetData={{sheetData}};\n\n//This variable determines the output of your component.\nlet _output=undefined;\n","code_body":"const rows = _sheetData;\nconst validRows = rows;\n\n// Convert rows → questions JSON\nconst questionsJson = validRows.map(row => ({\n  question: row[1],\n  correctness: Number(row[3]) || 0,\n  nervousness: Number(row[4]) || 0,\n  confidence: Number(row[5]) || 0,\n  clarity: Number(row[6]) || 0,\n  report: row[7] || \"\"\n}));\n\n// Define score columns you want to average (key → column index)\nconst scoreColumns = {\n  overall_score: 2,\n  correctness: 3,\n  nervousness: 4,\n  confidence: 5,\n  clarity: 6\n};\n\n// Compute averages for each score column dynamically\nconst averagesJson = {};\nObject.entries(scoreColumns).forEach(([key, index]) => {\n  const sum = validRows.reduce((acc, row) => acc + (Number(row[index]) || 0), 0);\n  averagesJson[key] = validRows.length ? +(sum / validRows.length).toFixed(2) : 0;\n});\n\n_output = {\n  questions: questionsJson,\n  averages: averagesJson\n};\n"},"top":"0.454px","left":"778px","width":"","height":"","displayName":"Code","title":"Code","aiTitle":"","description":"Process inputs with code"}],"connections":[{"sourceId":"M1INTERVIEW_REPORT","sourceIndex":0,"targetId":"M1INTERVIEW_FORMAT","targetIndex":2},{"sourceId":"M1INTERVIEW_FORMAT","sourceIndex":0,"targetId":"M1INTERVIEW_OUTPUT","targetIndex":0},{"sourceId":"M1INTERVIEW_FORMAT","sourceIndex":0,"targetId":"M1INTERVIEW_CLEAR","targetIndex":0},{"sourceId":"CMFV55IZYWX9","sourceIndex":3,"targetId":"TPLM1INTERVIEW_SHEETS","targetIndex":0},{"sourceId":"TPLM1INTERVIEW_SHEETS","sourceIndex":2,"targetId":"CMFV6PBDVBC6","targetIndex":0},{"sourceId":"CMFV6PBDVBC6","sourceIndex":2,"targetId":"M1INTERVIEW_FORMAT","targetIndex":0},{"sourceId":"CMFV6PBDVBC6","sourceIndex":3,"targetId":"M1INTERVIEW_FORMAT","targetIndex":1},{"sourceId":"CMFV6PBDVBC6","sourceIndex":2,"targetId":"M1INTERVIEW_REPORT","targetIndex":1},{"sourceId":"CMFV6PBDVBC6","sourceIndex":3,"targetId":"M1INTERVIEW_REPORT","targetIndex":0}],"description":"","shortDescription":"A dynamic agent that generates reports, formats output, and automates the analysis and management of interview data from Google Sheets.","behavior":"You are the Interview Analysis Agent. Your purpose is to automatically fetch interview assessment data from a predefined Google Sheet when called via GET request, process the data including individual question correctness and overall category scores, clear the sheet after processing, and return analysis results in a structured JSON format. You work autonomously without requiring user input - just call the agent and it handles everything automatically.","ui":{"panzoom":{"currentPan":{"x":-62.91442413464839,"y":37.90225379115596},"currentZoom":0.5839902408058133},"agentCard":{"left":"-700px","top":"-6px"}},"introMessage":"Hi, I'm Audio Interview Feedback. How can I help you today?","templateInfo":{"id":"audio-interview-feedback-mg6n8rfl1t6","name":"Audio Interview Feedback","description":"A dynamic agent that generates reports, formats output, and automates the analysis and management of interview data from Google Sheets.","icon":"","category":"","publish":false,"color":"#000000","imageUrl":"","docLink":"","videoLink":"","valueProposition":""}}